"use strict";(self.webpackChunkjj_blog=self.webpackChunkjj_blog||[]).push([["3250"],{860:function(e,n,t){t.r(n),t.d(n,{metadata:()=>r,contentTitle:()=>s,default:()=>h,assets:()=>c,toc:()=>d,frontMatter:()=>i});var r=JSON.parse('{"id":"scheme/comp-lib-internation","title":"\u591A\u5C42\u7EC4\u4EF6\u5E93\u56FD\u9645\u5316\u65B9\u6848","description":"\u4E00\u3001\u80CC\u666F","source":"@site/docs/2-scheme/04-comp-lib-internation.md","sourceDirName":"2-scheme","slug":"/scheme/comp-lib-internation","permalink":"/docs/scheme/comp-lib-internation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/2-scheme/04-comp-lib-internation.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{},"sidebar":"schemeSidebar","previous":{"title":"Taro \u9879\u76EE\u7248\u672C\u5347\u7EA7\u89C4\u8303 \uD83D\uDD1D","permalink":"/docs/scheme/taro-upgrade-way"}}'),o=t("2676"),l=t("9938");let i={},s="\u591A\u5C42\u7EC4\u4EF6\u5E93\u56FD\u9645\u5316\u65B9\u6848",c={},d=[{value:"\u4E00\u3001\u80CC\u666F",id:"\u4E00\u80CC\u666F",level:2},{value:"\u4E8C\u3001\u65B9\u6848\u8C03\u7814",id:"\u4E8C\u65B9\u6848\u8C03\u7814",level:2},{value:"2.1 React-intl",id:"21-react-intl",level:3},{value:"\u4F7F\u7528",id:"\u4F7F\u7528",level:4},{value:"\u4F18\u52BF",id:"\u4F18\u52BF",level:4},{value:"\u52A3\u52BF",id:"\u52A3\u52BF",level:4},{value:"2.2 React-i18next",id:"22-react-i18next",level:3},{value:"\u4F7F\u7528",id:"\u4F7F\u7528-1",level:4},{value:"\u4F18\u52BF",id:"\u4F18\u52BF-1",level:4},{value:"\u52A3\u52BF",id:"\u52A3\u52BF-1",level:4},{value:"2.3 \u624B\u64B8\u5B9E\u73B0",id:"23-\u624B\u64B8\u5B9E\u73B0",level:3},{value:"2.3.1 Antd Pro \u6838\u5FC3\u5B9E\u73B0",id:"231-antd-pro-\u6838\u5FC3\u5B9E\u73B0",level:4},{value:"2.3.2 DemoD \u3001DemoD Pro \u6838\u5FC3\u5B9E\u73B0",id:"232-demod-demod-pro-\u6838\u5FC3\u5B9E\u73B0",level:4},{value:"\u4F18\u70B9",id:"\u4F18\u70B9",level:4},{value:"\u4E09\u3001\u65B9\u6848\u7EFC\u8FF0",id:"\u4E09\u65B9\u6848\u7EFC\u8FF0",level:2},{value:"\u56DB\u3001\u65B9\u6848\u7ED3\u8BBA",id:"\u56DB\u65B9\u6848\u7ED3\u8BBA",level:2},{value:"\u4E94\u3001\u4F7F\u7528\u65B9\u5F0F",id:"\u4E94\u4F7F\u7528\u65B9\u5F0F",level:2},{value:"\u516D\u3001\u53EF\u4F18\u5316\u70B9",id:"\u516D\u53EF\u4F18\u5316\u70B9",level:2},{value:"\u4E03\u3001\u53C2\u8003\u8D44\u6599",id:"\u4E03\u53C2\u8003\u8D44\u6599",level:2}];function a(e){let n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u591A\u5C42\u7EC4\u4EF6\u5E93\u56FD\u9645\u5316\u65B9\u6848",children:"\u591A\u5C42\u7EC4\u4EF6\u5E93\u56FD\u9645\u5316\u65B9\u6848"})}),"\n",(0,o.jsx)(n.h2,{id:"\u4E00\u80CC\u666F",children:"\u4E00\u3001\u80CC\u666F"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"AntD"}),"\uFF1A\u8682\u8681\u7EF4\u62A4\u7684\u7EC4\u4EF6\u5E93\uFF0C\u672C\u8EAB\u5DF2\u652F\u6301\u56FD\u9645\u5316",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.strong,{children:"DemoD"}),"\uFF1A \u516C\u53F8\u5185\u90E8\u7EF4\u62A4\u7684\u7EC4\u4EF6\u5E93\uFF0C\u57FA\u4E8E ",(0,o.jsx)(n.code,{children:"AntD"})," \u8FDB\u884C\u4E8C\u6B21\u5C01\u88C5\uFF0C\u4E8C\u6B21\u5C01\u88C5\u6D89\u53CA\u8BED\u8A00\u7684\u5185\u5BB9\u4E0D\u652F\u6301\u56FD\u9645\u5316",(0,o.jsx)(n.br,{}),"\n",(0,o.jsx)(n.strong,{children:"DemoD Pro"}),"\uFF1A \u516C\u53F8\u5185\u90E8\u7EF4\u62A4\u7684\u9875\u9762\u6A21\u677F\u5E93\uFF0C\u57FA\u4E8E ",(0,o.jsx)(n.code,{children:"DemoD"})," \u8FDB\u884C\u4E8C\u6B21\u5C01\u88C5\uFF0C\u4E8C\u6B21\u5C01\u88C5\u6D89\u53CA\u8BED\u8A00\u7684\u5185\u5BB9\u4E0D\u652F\u6301\u56FD\u9645\u5316"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6D77\u5916\u4E1A\u52A1\u9700\u8981\u652F\u6301\u56FD\u9645\u5316\uFF0C\u4E1A\u52A1\u9879\u76EE(React \u751F\u6001)\u81EA\u8EAB\u5DF2\u4F7F\u7528\u793E\u533A\u65B9\u6848\uFF0C\u4F46\u9879\u76EE\u5F15\u7528\u7684 3 \u4EFD\u7EC4\u4EF6\u5E93\u4EC5 ",(0,o.jsx)(n.code,{children:"AntD"})," \u652F\u6301\u56FD\u9645\u5316\uFF0C\u53E6\u5916 2 \u4E2A\u4E0D\u652F\u6301\u56FD\u9645\u5316",(0,o.jsx)(n.br,{}),"\n","\u8BC9\u6C42\uFF1A\u53E6\u5916 2 \u4E2A\u7EC4\u4EF6\u5E93\u652F\u6301\u56FD\u9645\u5316\uFF0C\u5C3D\u91CF\u4E0D\u9020\u6210\u7EC4\u4EF6\u5E93\u4F53\u79EF\u589E\u5927\uFF0C\u914D\u7F6E\u7B80\u5355\u6613\u7528"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4E8C\u65B9\u6848\u8C03\u7814",children:"\u4E8C\u3001\u65B9\u6848\u8C03\u7814"}),"\n",(0,o.jsx)(n.h3,{id:"21-react-intl",children:"2.1 React-intl"}),"\n",(0,o.jsx)(n.h4,{id:"\u4F7F\u7528",children:(0,o.jsx)(n.a,{href:"https://formatjs.github.io/docs/getting-started/installation#minimal-application",children:"\u4F7F\u7528"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5B89\u88C5 ",(0,o.jsx)(n.code,{children:"pnpm add react react-intl"})]}),"\n",(0,o.jsxs)(n.li,{children:["\u4ECE ",(0,o.jsx)(n.code,{children:"React-intl"})," \u5305\u91CC\u5F15\u5165 ",(0,o.jsx)(n.code,{children:"IntlProvider"})," \u8FDB\u884C\u5168\u5C40\u6CE8\u5165"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import * as React from \'react\';\nimport { IntlProvider } from \'react-intl\';\n\nconst messagesInFrench = {\n    myMessage: "Aujourd\'hui, nous sommes le {ts, date, ::yyyyMMdd}",\n};\n\nexport default function App() {\n    return (\n        <IntlProvider messages={messagesInFrench} locale="fr" defaultLocale="en">\n            <Children />\n        </IntlProvider>\n    );\n}\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://formatjs.github.io/docs/react-intl/api#useintl-hook",children:"Hooks \u65B9\u5F0F"}),"\uFF1A\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"intl.formatMessage()"}),"\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4F20\u5165 ",(0,o.jsx)(n.code,{children:"id"}),"\uFF0C\u83B7\u53D6\u8BED\u8A00\u8D44\u6E90\u4E2D\u7684\u5BF9\u5E94\u6587\u672C"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import React from 'react';\nimport { useIntl, FormattedDate } from 'react-intl';\n\nconst FunctionComponent: React.FC<{ date: number | Date }> = ({ date }) => {\n    const intl = useIntl();\n    return (\n        <span title={intl.formatDate(date)}>\n            <FormattedDate value={date} />\n        </span>\n    );\n};\n\nexport default FunctionComponent;\n"})}),"\n",(0,o.jsx)(n.h4,{id:"\u4F18\u52BF",children:"\u4F18\u52BF"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u56FD\u9645\u5316\u76F8\u5173 Api \u4EE3\u7801\uFF08Context\u3001Intl hooks\uFF09\u4E0D\u9700\u8981\u6211\u4EEC\u7EF4\u62A4"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u52A3\u52BF",children:"\u52A3\u52BF"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"DemoD\u3001DemoD Pro \u5305\u4F53\u79EF\u589E\u5927"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"22-react-i18next",children:"2.2 React-i18next"}),"\n",(0,o.jsx)(n.h4,{id:"\u4F7F\u7528-1",children:"\u4F7F\u7528"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5B89\u88C5 ",(0,o.jsx)(n.code,{children:"pnpm add react-i18next i18next --save"})]}),"\n",(0,o.jsxs)(n.li,{children:["\u8BED\u8A00\u8D44\u6E90\u7684 ",(0,o.jsx)(n.code,{children:"json"})," \u6587\u4EF6\uFF0C\u5728 ",(0,o.jsx)(n.code,{children:"i18n.js"})," \u4E2D\u505A\u7EDF\u4E00\u914D\u7F6E"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nconst resources = {\n    en: { translation: { 'Welcome to React': 'Welcome to React and react-i18next' } },\n    fr: { translation: { 'Welcome to React': 'Bienvenue \xe0 React et react-i18next' } },\n};\n\ni18n.use(LanguageDetector) // \u68C0\u6D4B\u7528\u6237\u8BED\u8A00\u63D2\u4EF6\n    .use(initReactI18next) // \u521D\u59CB\u5316 i18n\u5B9E\u4F8B\n    .init({\n        resources,\n        lng: 'en',\n        debug: true, // \u662F\u5426\u5F00\u542F\u8C03\u8BD5\n        interpolation: {\n            escapeValue: false, // react already safes from xss\n        },\n    });\n\nexport default i18n;\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:["\u5728\u9879\u76EE\u5165\u53E3\u6587\u4EF6\u5F15\u5165 ",(0,o.jsx)(n.code,{children:"i18n"}),"\uFF0C",(0,o.jsx)(n.code,{children:'import "./react-i18next/i18n"'})]}),"\n",(0,o.jsxs)(n.li,{children:["\u51FD\u6570/\u7C7B\u7EC4\u4EF6\u4E2D\u901A\u8FC7 ",(0,o.jsx)(n.code,{children:"react-i18next"})," \u63D0\u4F9B\u7684\u4E0D\u540C\u8BED\u6CD5\u5F62\u5F0F\u8FDB\u884C\u4F7F\u7528"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport function MyComponent() {\n    const { t, i18n } = useTranslation(); // not passing any namespace will use the defaultNS (by default set to 'translation')\n    // or const [t, i18n] = useTranslation();\n\n    return <p>{t('my translated text')}</p>;\n}\n"})}),"\n",(0,o.jsx)(n.h4,{id:"\u4F18\u52BF-1",children:"\u4F18\u52BF"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u65E0\u989D\u5916\u5F00\u53D1\u8BED\u8A00\u5207\u6362\u51FD\u6570\u6210\u672C"}),"\uFF1A",(0,o.jsx)(n.code,{children:"react-i18next"})," \u81EA\u5E26 ",(0,o.jsx)(n.code,{children:"changeLanguage"})," \u51FD\u6570\u8FDB\u884C\u8BED\u8A00\u53D8\u66F4\uFF0C\u65E0\u9700\u63A7\u5236 ",(0,o.jsx)(n.code,{children:"locale"})," \u53D8\u66F4\uFF0C\u53EA\u9700\u8981\u4F20\u5165\u76EE\u6807\u8BED\u8A00\u6807\u8BC6\u5373\u53EF"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u63D0\u4F9B\u529F\u80FD\u63D2\u4EF6"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u68C0\u6D4B\u5F53\u524D\u7CFB\u7EDF\u7684\u8BED\u8A00\u73AF\u5883\uFF08",(0,o.jsx)(n.a,{href:"https://github.com/i18next/i18next-browser-languageDetector",children:"i18next-browser-languagedetector"}),"\uFF09"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4ECE\u670D\u52A1\u5668\u83B7\u53D6\u8BED\u8A00\u914D\u7F6E\u8D44\u6E90\uFF08",(0,o.jsx)(n.a,{href:"https://github.com/i18next/i18next-http-backend",children:"i18next-http-backend"}),"\uFF09"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u52A3\u52BF-1",children:"\u52A3\u52BF"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u4F53\u79EF\u589E\u5927"}),"\uFF1ADemoD\u3001DemoD Pro \u5305\u4F53\u79EF\u589E\u5927"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u5B9E\u4F8B\u8986\u76D6\u95EE\u9898"}),"\uFF1A\u540E\u52A0\u8F7D\u7684\u5B9E\u4F8B\u4F1A\u8986\u76D6\u5148\u52A0\u8F7D\u7684\u5B9E\u4F8B\uFF0C\u9020\u6210\u5148\u52A0\u8F7D\u7684\u5B9E\u4F8B\u8D44\u6E90\u6587\u4EF6\u627E\u4E0D\u5230",(0,o.jsx)(n.br,{}),"\n","\uFF08\u4F8B\u5982\uFF1ADemoD\u3001DemoD Pro \u5728\u4E1A\u52A1\u9879\u76EE\u540C\u65F6\u5B89\u88C5\uFF0C\u82E5 Pro \u5148\u52A0\u8F7D\uFF0C\u5219\u4F1A\u5BFC\u81F4 ",(0,o.jsx)(n.code,{children:"i18n.options.resource"})," \u5BF9\u8C61\u4E0B\u7684 Pro \u8BED\u8A00\u8D44\u6E90\u6CA1\u4E86\uFF0C\u800C DemoD \u8FD8\u5728\uFF0C\u9020\u6210\u8BED\u8A00\u8D44\u6E90\u7F3A\u5931\uFF09"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"23-\u624B\u64B8\u5B9E\u73B0",children:"2.3 \u624B\u64B8\u5B9E\u73B0"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\u6A21\u4EFF AntD/AntD Pro \u7684\u56FD\u9645\u5316\u65B9\u6848\uFF08\u5176\u6E90\u7801\u672C\u8D28\u662F\u5220\u51CF\u7248\u7684 react-intl\uFF09\uFF0C\u5728 DemoD \u548C DemoD Pro \u4E2D\u624B\u64B8\u4E00\u5957"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"231-antd-pro-\u6838\u5FC3\u5B9E\u73B0",children:"2.3.1 Antd Pro \u6838\u5FC3\u5B9E\u73B0"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5B9A\u4E49\u4E00\u5C42 ",(0,o.jsx)(n.code,{children:"React.Context"}),"\uFF0C\u5728 ",(0,o.jsx)(n.code,{children:"AntdConfigContext"})," \u548C",(0,o.jsx)(n.strong,{children:"\u6839\u5143\u7D20"}),"\u4E4B\u95F4\u63D2\u5165\uFF0C\u5E76\u4ECE ",(0,o.jsx)(n.code,{children:"AntdConfigContext"})," \u4E2D\u89E3\u6784\u51FA ",(0,o.jsx)(n.code,{children:"locale"})," \u503C\u8FDB\u884C\u6CE8\u5165\u8BED\u8A00\u8D44\u6E90"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",metastring:"title='pro-components \u4E2D\u7684\u6838\u5FC3\u5B9E\u73B0'",children:"/* Creating a context object with the default values. */\nconst ProConfigContext = React.createContext<ConfigContextPropsType>({\n    intl: {\n        ...zhCNIntl /* \u521D\u59CB\u5316\u8BED\u8A00 */,\n        locale: 'default',\n    },\n    valueTypeMap: {},\n    theme: emptyTheme,\n    hashed: true,\n    dark: false,\n    token: defaultToken as ProAliasToken,\n});\n\nconst configProviderDom = useMemo(() => {\n    return (\n        <AntdConfigProvider {...restConfig} theme={themeConfig}>\n            <ProConfigContext.Provider value={proConfigContextValue}>\n                <>\n                    {autoClearCache && <CacheClean />}\n                    {children}\n                </>\n            </ProConfigContext.Provider>\n        </AntdConfigProvider>\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n}, [restConfig, themeConfig, proConfigContextValue, autoClearCache, children]);\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:["\u5B9A\u4E49 ",(0,o.jsx)(n.code,{children:"uselntl"}),"\uFF0C\u5176\u6839\u636E ",(0,o.jsx)(n.code,{children:"locale"})," \u83B7\u53D6\u5BF9\u5E94\u56FD\u9645\u5316\u5B57\u7B26\u4E32\u8D44\u6E90"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"/**\n * It returns the intl object from the context if it exists, otherwise it returns the intl object for\n * \u83B7\u53D6\u56FD\u9645\u5316\u7684\u65B9\u6CD5\n * @param locale\n * @param localeMap\n * the current locale\n * @returns The return value of the function is the intl object.\n */\nexport function useIntl(): IntlType {\n    const { locale } = useContext(AntdConfigProvider.ConfigContext);\n    const { intl } = useContext(ProConfigContext);\n\n    if (intl && intl.locale !== 'default') {\n        return intl || zhCNIntl;\n    }\n\n    if (locale?.locale) {\n        return intlMap[findIntlKeyByAntdLocaleKey(locale.locale) as 'zh-CN'] || zhCNIntl;\n    }\n\n    return zhCNIntl;\n}\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:["\u4F7F\u7528\u5904\u8C03\u7528 ",(0,o.jsx)(n.code,{children:"intl.getMessage(id,defaultMsg)"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const init = useIntl();\nconst placeholderValue = placeholder || intl.getMessage('tabelForm.inputPlaceholder', '\u8BF7\u8F93\u5165');\n"})}),"\n",(0,o.jsx)(n.h4,{id:"232-demod-demod-pro-\u6838\u5FC3\u5B9E\u73B0",children:"2.3.2 DemoD \u3001DemoD Pro \u6838\u5FC3\u5B9E\u73B0"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",metastring:'title="src/Locale/index.ts"',children:"import { createContext, useContext } from 'react';\nimport { staticLocale } from '../ConfigProvider';\n\nexport interface Locale {\n    locale: string;\n    Alert: {\n        expand: string;\n        collapse: string;\n    };\n}\nexport type LocaleContextProps = Locale;\nexport const LocaleContext = createContext<LocaleContextProps>({} as LocaleContextProps);\n\nexport const useLocale = <C extends keyof Locale = keyof Locale>(\n    componentName: C\n): readonly [NonNullable<Locale[C]>, string] => {\n    const locale = useContext<LocaleContextProps>(LocaleContext) || staticLocale;\n    const _locale = Object.keys(locale).length === 0 ? staticLocale : locale;\n    return [_locale[componentName], _locale.locale];\n};\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",metastring:"title='src/ConfigProvider/index.tsx'",children:"import React from 'react';\nimport type { Locale } from '../Locale';\nimport { LocaleContext } from '../Locale';\nimport zh_CN from '../Locale/zh_CH';\n\nexport interface ConfigProviderProps {\n    children: React.ReactNode;\n    locale?: Locale;\n}\n\nexport let staticLocale: Locale = zh_CN;\n\nexport const ConfigProvider = (props: ConfigProviderProps) => {\n    const { children, locale } = props;\n\n    if (locale) {\n        staticLocale = locale;\n        return <LocaleContext.Provider value={locale}>{children}</LocaleContext.Provider>;\n    }\n    return <>{children}</>;\n};\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:"title='src/Locale/zh_CN.ts'",children:"import type { Locale } from '.';\n\nexport const LocaleValue: Locale = {\n    locale: 'zh-CN',\n    Alert: {\n        expand: '\u5C55\u5F00',\n        collapse: '\u6536\u8D77',\n    },\n};\n"})}),"\n",(0,o.jsx)(n.h4,{id:"\u4F18\u70B9",children:"\u4F18\u70B9"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u5305\u4F53\u79EF\u5C0F\uFF0C\u4E0D\u7528\u989D\u5916\u5F15\u5165\u7B2C\u4E09\u65B9\u5E93"}),"\n",(0,o.jsx)(n.li,{children:"\u81EA\u5B9A\u4E49\u7A0B\u5EA6\u9AD8\uFF0C\u53EF\u968F\u5177\u4F53\u4E1A\u52A1\u9700\u8981\u6765\u589E\u52A0\u529F\u80FD"}),"\n",(0,o.jsxs)(n.li,{children:["\u652F\u6301 ",(0,o.jsx)(n.code,{children:"TypeScript"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4E09\u65B9\u6848\u7EFC\u8FF0",children:"\u4E09\u3001\u65B9\u6848\u7EFC\u8FF0"}),"\n",(0,o.jsxs)(n.p,{children:["\u8C03\u7814\u53D1\u73B0\uFF0CReact \u56FD\u9645\u5316\u65B9\u6848\u57FA\u672C\u4E00\u81F4\uFF1A\u5C06\u9875\u9762\u7684\u6587\u5B57\u63D0\u5230\u7EDF\u4E00\u7684\u6587\u4EF6\u76EE\u5F55\u8FDB\u884C\u7BA1\u7406\uFF0C\u5728\u4EE3\u7801\u4F7F\u7528\u7684\u5730\u65B9\u201C\u6316\u5751\u201D\uFF0C\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"id"})," \u6216\u53D8\u91CF\u201C\u5360\u5751\u201D\uFF0C\u6700\u7EC8\u6839\u636E\u5B9E\u9645\u7684\u8BED\u8A00\u73AF\u5883\u53D6\u6587\u5B57\u8D44\u6E90\u8FDB\u884C\u201C\u586B\u5751\u201D"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"\u65B9\u6848"}),(0,o.jsx)(n.th,{children:"\u6838\u5FC3"}),(0,o.jsx)(n.th,{children:"\u8D44\u6E90\u6587\u4EF6\u683C\u5F0F"}),(0,o.jsx)(n.th,{children:"\u8BED\u6CD5\u65B9\u5F0F"}),(0,o.jsx)(n.th,{children:"\u81EA\u5E26 TS \u652F\u6301"}),(0,o.jsx)(n.th,{children:"\u81EA\u5E26\u8BED\u8A00\u5207\u6362\u51FD\u6570"}),(0,o.jsx)(n.th,{children:"\u81EA\u52A8\u68C0\u6D4B\u7CFB\u7EDF\u8BED\u8A00"}),(0,o.jsx)(n.th,{children:"\u5468\u4E0B\u8F7D\u91CF"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"React-intl"}),(0,o.jsx)(n.td,{children:"React.Context"}),(0,o.jsx)(n.td,{children:"JS"}),(0,o.jsx)(n.td,{children:"\u51FD\u6570/\u7EC4\u4EF6"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"166W"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"React-i18next"}),(0,o.jsx)(n.td,{children:"React.Context"}),(0,o.jsx)(n.td,{children:"JSON"}),(0,o.jsx)(n.td,{children:"\u51FD\u6570/\u7EC4\u4EF6"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"\u221A"}),(0,o.jsx)(n.td,{children:"\u221A"}),(0,o.jsx)(n.td,{children:"344W"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"\u624B\u64B8\u5B9E\u73B0"}),(0,o.jsx)(n.td,{children:"React.Context"}),(0,o.jsx)(n.td,{children:"JS"}),(0,o.jsx)(n.td,{children:"\u51FD\u6570"}),(0,o.jsx)(n.td,{children:"\u221A"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"\xd7"}),(0,o.jsx)(n.td,{children:"-/-"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"\u56DB\u65B9\u6848\u7ED3\u8BBA",children:"\u56DB\u3001\u65B9\u6848\u7ED3\u8BBA"}),"\n",(0,o.jsxs)(n.p,{children:["\u4F7F\u7528\u65B9\u6848\uFF1A",(0,o.jsx)(n.strong,{children:"2.3 \u624B\u64B8\u5B9E\u73B0"}),(0,o.jsx)(n.br,{}),"\n","\u4E3B\u8981\u8003\u8651\uFF1A\u2460 \u4E1A\u52A1\u65B9\u4E0D\u5E0C\u671B\u5F15\u5165\u65B0\u5305\u53CA\u65B0\u5305\u5185\u65E0\u7528\u529F\u80FD\u7684\u5197\u4F59\u4EE3\u7801\u5BFC\u81F4\u4F53\u79EF\u589E\u5927\uFF1B\u2461 \u671F\u671B\u4F7F\u7528\u65F6\u53EF\u4EE5\u901A\u8FC7 ",(0,o.jsx)(n.code,{children:"a.b"})," \u8BED\u6CD5\u6765\u83B7\u53D6\u8BED\u8A00\u8D44\u6E90\uFF0C\u6545\u9700\u81EA\u5E26 TS \u652F\u6301"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4E94\u4F7F\u7528\u65B9\u5F0F",children:"\u4E94\u3001\u4F7F\u7528\u65B9\u5F0F"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u4E1A\u52A1\u9879\u76EE\u4E3A AntD + DemoD\uFF0C\u5219\u4F7F\u7528 AntD \u7684 ConfigProvider \u5305\u88F9 DemoD \u7684 ConfigProvider"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import { ConfigProvider as AntdConfigProvider } from 'antd';\nimport antdzhCN from 'antd/locale/zh_CN';\nimport { ConfigProvider as CustomdConfigProvider } from 'customd';\nimport customdzhCN from 'customd/es/locale/zh_CN';\n\nconst useageDemo = children => {\n    return (\n        <AntdConfigProvider locale={antdzhCN}>\n            <CustomdConfigProvider locale={customdzhCN}>{children}</CustomdConfigProvider>\n        </AntdConfigProvider>\n    );\n};\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u4E1A\u52A1\u9879\u76EE\u4E3A AntD + DemoD + DemoD Pro \u6216 AntD + DemoD Pro\uFF0C\u5219\u4F7F\u7528 AntD \u7684 ConfigProvider \u5305\u88F9 DemoD Pro \u7684 ConfigProvider"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"import { ConfigProvider as AntdConfigProvider } from 'antd';\nimport antdzhCN from 'antd/locale/zh_CN';\nimport { ConfigProvider as CustomdProConfigProvider } from 'customd-pr';\nimport customdProzhCN from 'customd-pro/es/locale/zh_CN';\n\nconst useageDemo = children => {\n    return (\n        <AntdConfigProvider locale={antdzhCN}>\n            <CustomdProConfigProvider locale={customdProzhCN}>{children}</CustomdProConfigProvider>\n        </AntdConfigProvider>\n    );\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u516D\u53EF\u4F18\u5316\u70B9",children:"\u516D\u3001\u53EF\u4F18\u5316\u70B9"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u4E0D\u652F\u6301\u53D8\u91CF\u8D4B\u503C"}),"\uFF1A\u4F8B\u5982\u8868\u683C\u9875\u811A\u5E38\u6709\uFF1A\u201C\u603B\u8BA1 xxx \u6761\u6570\u636E\u201D\u7684\u5C55\u793A\u573A\u666F\u3002\u5F53\u524D\u5B9E\u73B0\u9700\u8981\u5206\u522B\u5B9A\u4E49 ",(0,o.jsx)(n.code,{children:"key1\uFF1A\u603B\u8BA1"}),"\uFF0C",(0,o.jsx)(n.code,{children:"key2\uFF1A\u6761\u6570\u636E"}),"\uFF0C\u7136\u540E\u5728\u4F7F\u7528\u7684\u5730\u65B9\u5728 2 \u4E2A key \u4E4B\u95F4\u63D2\u5165 xxx \u7684\u6570\u503C\u540E\uFF0C\u901A\u8FC7\u6A21\u677F\u5B57\u7B26\u4E32\u62FC\u63A5\uFF0C\u6B64\u5904\u53EF\u4EE5\u4F18\u5316"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u4E0D\u652F\u6301\u81EA\u52A8\u68C0\u6D4B\u7CFB\u7EDF\u8BED\u8A00"}),"\uFF1A\u5F53\u524D\u4E1A\u52A1\u65B9\u4F7F\u7528\u65F6\u9700\u8981\u5728\u4EE3\u7801\u4E2D\u8BBE\u7F6E\u9ED8\u8BA4\u8BED\u8A00\u3002\u4F46\u5B9E\u9645\u53EF\u4EE5\u53C2\u8003 ",(0,o.jsx)(n.a,{href:"https://github.com/i18next/i18next-browser-languageDetector",children:"i18n-next \u7684\u81EA\u52A8\u68C0\u6D4B\u63D2\u4EF6"}),"\u7684\u5B9E\u73B0\u8FDB\u884C\u4F18\u5316\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u6839\u636E\u7528\u6237\u5B9E\u9645\u73AF\u5883\u5728\u8FDB\u5165\u7CFB\u7EDF\u65F6\u81EA\u52A8\u8BBE\u7F6E\u8BED\u8A00"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u4E03\u53C2\u8003\u8D44\u6599",children:"\u4E03\u3001\u53C2\u8003\u8D44\u6599"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://formatjs.github.io/docs/getting-started/installation",children:"react-intl \u5B98\u65B9\u6587\u6863"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.jianshu.com/p/574f6cea4f26",children:"\u4F7F\u7528 react-intl \u5B9E\u73B0 React \u7EC4\u4EF6\u56FD\u9645\u5316"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://segmentfault.com/a/1190000005824920",children:"\u5728 React \u9879\u76EE\u4E2D\u4F7F\u7528 React-intl \u5B9E\u73B0\u591A\u8BED\u8A00\u652F\u6301"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://react.i18next.com",children:"react-i18next \u5B98\u65B9\u6587\u6863"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.cnblogs.com/operate/p/16199940.html",children:"React \u4E2D\u4F7F\u7528 react-i18next \u56FD\u9645\u5316"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://juejin.cn/post/7139855730105942030",children:"\u524D\u7AEF i18n \u6700\u4F73\u5B9E\u8DF5\uFF1A\u5728 React \u4E2D\u4F7F\u7528 i18next"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.jianshu.com/p/2f8d6e0b4adb",children:"React \u9879\u76EE\u56FD\u9645\u5316\u4ECB\u7ECD\uFF08react-i18next\u3001react-intl)"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/ant-design/pro-components/blob/master/packages/provider/src/index.tsx#L457C4-L457C12",children:"Antd Pro \u56FD\u9645\u5316\u5B9E\u73B0\u7684\u6E90\u7801"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},9938:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return i}});var r=t(5271);let o={},l=r.createContext(o);function i(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);